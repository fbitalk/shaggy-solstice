---
import Layout from '../layouts/Layout.astro';
import SearchBox from '../components/SearchBox.astro';
import Sidebar from '../components/Sidebar.astro';
import SiteCard from '../components/SiteCard.astro';

// 网站数据
const websiteData = {
  anime: [
    { 
      title: "哔哩哔哩动画", 
      description: "中国知名的在线视频弹幕网站，提供高质量动漫、番剧资源", 
      logo: "https://www.acgbox.link/wp-content/uploads/2022/10/www.bilibili.com_.webp", 
      url: "https://www.bilibili.com/anime", 
      tags: ["动漫", "视频"]
    },
    { 
      title: "次元城动画", 
      description: "提供丰富的动漫资源与在线观看服务", 
      logo: "https://www.acgbox.link/wp-content/uploads/2024/10/1728014741-www.cyc-anime.net_.png", 
      url: "https://www.ciyuancheng.net", 
      tags: ["动漫", "在线"]
    },
    { 
      title: "橘子动漫", 
      description: "专注于高清动漫资源分享与在线观看", 
      logo: "https://www.acgbox.link/wp-content/uploads/2024/02/www.mgnacg.com_.png", 
      url: "https://www.mgnacg.com", 
      tags: ["动漫", "高清"]
    },
    { 
      title: "girigiri爱动漫", 
      description: "日本动画在线观看平台，更新速度快", 
      logo: "https://www.acgbox.link/wp-content/uploads/2023/11/anime.girigirilove.com_.png", 
      url: "https://anime.girigirilove.icu", 
      tags: ["动漫", "日漫"]
    },
    { 
      title: "A站", 
      description: "提供多种类型的动漫作品和相关资讯", 
      logo: "https://www.acgbox.link/wp-content/uploads/2024/09/1726708507-www.qifun_.cc.png", 
      url: "https://www.qifun.cc", 
      tags: ["动漫", "资讯"]
    },
    { 
      title: "番薯动漫", 
      description: "更新快速的动漫视频网站，资源丰富", 
      logo: "https://www.acgbox.link/wp-content/uploads/2024/04/www.fanshudm.com_.png", 
      url: "https://www.fsdm02.com", 
      tags: ["动漫", "更新快"]
    },
    { 
      title: "花子动漫", 
      description: "提供各类热门新番与经典动漫的在线观看", 
      logo: "https://www.acgbox.link/wp-content/uploads/2024/03/www.huazidm.com_.png", 
      url: "https://www.huazidm.com", 
      tags: ["动漫", "新番"]
    },
    { 
      title: "clicli弹幕网", 
      description: "二次元弹幕视频网站，专注动画内容", 
      logo: "https://www.acgbox.link/wp-content/uploads/2023/10/www.clicli.cc.jpg", 
      url: "https://www.clicli.cc", 
      tags: ["动漫", "弹幕"]
    },
    { 
      title: "佩可爱动漫", 
      description: "专注于萌系动漫内容的分享平台", 
      logo: "https://www.acgbox.link/wp-content/uploads/2023/09/pekolove.com_.png", 
      url: "https://acg.pekolove.net", 
      tags: ["动漫", "萌系"]
    },
    { 
      title: "喵物次元", 
      description: "提供动漫资源在线观看与下载", 
      logo: "https://www.acgbox.link/wp-content/uploads/2023/10/catw.moe_.png", 
      url: "https://www.mwcy.net", 
      tags: ["动漫", "下载"]
    },
    { 
      title: "MuteFun动漫网站", 
      description: "国外动漫资源分享与在线观看平台", 
      logo: "https://www.acgbox.link/wp-content/uploads/2024/04/www.mutedm.com_.png", 
      url: "https://www.mutedm.com", 
      tags: ["动漫", "国外"]
    },
    { 
      title: "Animoe动漫", 
      description: "提供最新动漫更新与在线观看服务", 
      logo: "https://www.acgbox.link/wp-content/uploads/2023/04/animoe.org_.png", 
      url: "https://animoe.org", 
      tags: ["动漫", "更新"]
    },
    { 
      title: "嗷呜动漫", 
      description: "专注于日本动画的在线观看平台", 
      logo: "https://www.acgbox.link/wp-content/uploads/2025/06/1751293917-www.aowu_.tv_.png", 
      url: "https://www.aowu.tv", 
      tags: ["动漫", "日本"]
    },
    { 
      title: "稀饭动漫", 
      description: "提供动漫资源与在线观看服务", 
      logo: "https://www.acgbox.link/wp-content/uploads/2023/12/dick.xfani_.com_.png", 
      url: "https://dm.xifanacg.com", 
      tags: ["动漫", "资源"]
    },
    { 
      title: "アニメ新番组", 
      description: "日语动漫资源网站，提供最新动漫", 
      logo: "https://www.acgbox.link/wp-content/uploads/2022/10/bangumi.online.webp", 
      url: "https://bangumi.online", 
      tags: ["动漫", "日语"]
    },
    { 
      title: "NyaFun", 
      description: "动漫视频分享与在线播放平台", 
      logo: "https://www.acgbox.link/wp-content/uploads/2023/01/www.nyafun.net_.webp", 
      url: "https://www.nyadm.org", 
      tags: ["动漫", "分享"]
    },
    { 
      title: "动画疯", 
      description: "台湾地区知名的正版动漫平台", 
      logo: "https://www.acgbox.link/wp-content/uploads/2024/10/1728369950-ani.gamer_.com_.tw_.jpg", 
      url: "https://ani.gamer.com.tw", 
      tags: ["动漫", "台湾"]
    },
    { 
      title: "AcFun番剧", 
      description: "AcFun平台的番剧专区，提供动漫更新", 
      logo: "https://www.acgbox.link/wp-content/uploads/2023/05/www.acfun_.cn_.jpg", 
      url: "https://www.acfun.cn/bangumilist", 
      tags: ["动漫", "番剧"]
    }
  ],
  popular: [
    { 
      title: "百度", 
      description: "中国最大的搜索引擎，提供网页、图片、视频等多元搜索服务", 
      logo: "https://www.baidu.com/favicon.ico", 
      url: "https://www.baidu.com", 
      tags: ["搜索", "门户"]
    },
    { 
      title: "淘宝", 
      description: "中国最大的在线购物平台，汇集各类商品", 
      logo: "https://www.taobao.com/favicon.ico", 
      url: "https://www.taobao.com", 
      tags: ["购物", "电商"]
    },
    { 
      title: "微博", 
      description: "中国知名社交媒体平台，了解热点资讯和明星动态", 
      logo: "https://weibo.com/favicon.ico", 
      url: "https://weibo.com", 
      tags: ["社交", "资讯"]
    },
    { 
      title: "知乎", 
      description: "中文互联网高质量问答社区，分享知识和经验", 
      logo: "https://static.zhihu.com/heifetz/favicon.ico", 
      url: "https://www.zhihu.com", 
      tags: ["问答", "社区"]
    },
    { 
      title: "Steam", 
      description: "全球最大的游戏发行平台，提供丰富的游戏资源", 
      logo: "https://store.steampowered.com/favicon.ico", 
      url: "https://store.steampowered.com", 
      tags: ["游戏", "娱乐"]
    },
    { 
      title: "网易云音乐", 
      description: "国内知名音乐流媒体服务平台，拥有海量音乐资源", 
      logo: "https://music.163.com/favicon.ico", 
      url: "https://music.163.com", 
      tags: ["音乐", "娱乐"]
    }
  ],
  download: [
    { 
      title: "蓝奏云", 
      description: "无限制高速下载网盘，简洁无广告，分享文件便捷", 
      logo: "https://www.lanzou.com/favicon.ico", 
      url: "https://lanzou.com", 
      tags: ["网盘", "下载"]
    },
    { 
      title: "百度网盘", 
      description: "国内知名云存储服务，提供文件存储、分享和下载", 
      logo: "https://pan.baidu.com/box-static/disk-system/images/favicon.ico", 
      url: "https://pan.baidu.com", 
      tags: ["网盘", "存储"]
    },
    { 
      title: "软件管家", 
      description: "提供安全、无广告的软件下载服务", 
      logo: "https://pc.qq.com/favicon.ico", 
      url: "https://pc.qq.com/category/c18.html", 
      tags: ["软件", "应用"]
    },
    { 
      title: "高清MP4", 
      description: "提供高清电影、电视剧资源下载", 
      logo: "https://www.da4k.com/favicon.ico", 
      url: "https://www.da4k.com", 
      tags: ["影视", "高清"]
    }
  ],
  video: [
    { 
      title: "腾讯视频", 
      description: "中国领先的在线视频媒体平台，海量高清视频在线观看", 
      logo: "https://v.qq.com/favicon.ico", 
      url: "https://v.qq.com/", 
      tags: ["视频", "电影"]
    },
    { 
      title: "爱奇艺", 
      description: "中国高品质视频娱乐网站，提供海量正版影视内容", 
      logo: "https://www.iqiyi.com/favicon.ico", 
      url: "https://www.iqiyi.com/", 
      tags: ["视频", "电视剧"]
    },
    { 
      title: "优酷", 
      description: "热门综艺、电视剧、电影等视频播放平台", 
      logo: "https://img.alicdn.com/tfs/TB1WeJ9Xrj1gK0jSZFuXXcrHpXa-195-195.png", 
      url: "https://www.youku.com/", 
      tags: ["视频", "综艺"]
    },
    { 
      title: "YouTube", 
      description: "全球最大的视频分享平台，提供海量视频内容", 
      logo: "https://www.youtube.com/s/desktop/18284868/img/favicon_32x32.png", 
      url: "https://www.youtube.com/", 
      tags: ["视频", "国际"]
    }
  ],
  ai: [
    { 
      title: "ChatGPT", 
      description: "OpenAI开发的AI聊天机器人，可用于文本生成与对话", 
      logo: "https://chat.openai.com/favicon.ico", 
      url: "https://chat.openai.com/", 
      tags: ["AI", "聊天"]
    },
    { 
      title: "Midjourney", 
      description: "AI绘图工具，通过文本提示生成高质量图像", 
      logo: "/placeholder.png", 
      url: "https://www.midjourney.com/", 
      tags: ["AI", "绘图"]
    },
    { 
      title: "Hugging Face", 
      description: "AI模型社区和平台，提供各种开源AI模型和工具", 
      logo: "https://huggingface.co/favicon.ico", 
      url: "https://huggingface.co/", 
      tags: ["AI", "开源"]
    },
    { 
      title: "Runway", 
      description: "创意AI工具集，用于视频编辑、生成和处理", 
      logo: "https://runwayml.com/favicon.png", 
      url: "https://runwayml.com/", 
      tags: ["AI", "视频"]
    }
  ],
  game: [
    { 
      title: "3DM游戏", 
      description: "国内知名游戏下载门户，提供各类PC游戏下载", 
      logo: "/placeholder.png", 
      url: "https://www.3dmgame.com/", 
      tags: ["游戏", "下载"]
    },
    { 
      title: "游侠网", 
      description: "大型单机游戏下载基地，提供破解版、汉化版游戏", 
      logo: "/placeholder.png", 
      url: "https://www.ali213.net/", 
      tags: ["游戏", "单机"]
    },
    { 
      title: "Epic Games", 
      description: "Epic游戏商城，定期提供免费游戏", 
      logo: "https://cdn2.unrealengine.com/Epic+Games+Node/favicon.ico", 
      url: "https://store.epicgames.com/", 
      tags: ["游戏", "商城"]
    },
    { 
      title: "GOG", 
      description: "无DRM游戏平台，提供经典游戏和独立游戏", 
      logo: "https://www.gog.com/favicon.ico", 
      url: "https://www.gog.com/", 
      tags: ["游戏", "经典"]
    }
  ],
  academic: [
    { 
      title: "Google Scholar", 
      description: "谷歌学术搜索，查找学术论文、文献和引用", 
      logo: "https://scholar.google.com/favicon.ico", 
      url: "https://scholar.google.com/", 
      tags: ["学术", "搜索"]
    },
    { 
      title: "中国知网", 
      description: "中国知识基础设施工程，提供中文学术文献、期刊、论文", 
      logo: "https://www.cnki.net/favicon.ico", 
      url: "https://www.cnki.net/", 
      tags: ["学术", "中文"]
    },
    { 
      title: "SCI-Hub", 
      description: "移除学术文献访问障碍，提供免费访问付费论文", 
      logo: "https://sci-hub.st/favicon.ico", 
      url: "https://sci-hub.st", 
      tags: ["学术", "论文"]
    },
    { 
      title: "ResearchGate", 
      description: "科研社交网络，连接研究人员和分享论文", 
      logo: "https://www.researchgate.net/favicon.ico", 
      url: "https://www.researchgate.net/", 
      tags: ["学术", "社区"]
    }
  ],
  ebook: [
    { 
      title: "Z-Library", 
      description: "全球最大的电子书库之一，提供多种格式的免费电子书", 
      logo: "https://1lib.domains/favicon.ico", 
      url: "https://z-library.cc", 
      tags: ["电子书", "免费"]
    },
    { 
      title: "Gutenberg Project", 
      description: "提供超过60,000本免费电子书的数字图书馆", 
      logo: "https://www.gutenberg.org/gutenberg/favicon.ico", 
      url: "https://www.gutenberg.org/", 
      tags: ["电子书", "公版"]
    },
    { 
      title: "鸠摩搜书", 
      description: "强大的电子书搜索引擎，整合多个电子书资源", 
      logo: "https://www.jiumodiary.com/favicon.ico", 
      url: "https://www.jiumodiary.com/", 
      tags: ["电子书", "搜索"]
    },
    { 
      title: "Library Genesis", 
      description: "大型科学论文和书籍数据库，提供各类学术资源", 
      logo: "https://libgen.gs/favicon.ico", 
      url: "https://libgen.gs", 
      tags: ["电子书", "学术"]
    }
  ]
};

// 默认显示所有分类
const allCategories = ['anime', 'popular', 'download', 'video', 'ai', 'game', 'academic', 'ebook'];
---

<Layout title="网站导航 | 精选优质网站资源">
	<Sidebar />

	<div class="main-content">
		<section class="hero-section">
		<div class="container">
				<div class="search-container">
					<SearchBox />
				</div>
			</div>
		</section>

		<section class="nav-categories">
			<div class="container">
				<div class="sites-container">
					<!-- 在线动漫网站 -->
					<div class="category-group" id="anime">
						<h2 class="category-title">在线动漫</h2>
						<div class="sites-grid">
							{websiteData.anime.map((site) => (
								<SiteCard 
									title={site.title}
									description={site.description}
									logo={site.logo}
									url={site.url}
									tags={site.tags}
								/>
							))}
						</div>
					</div>
					
					<!-- 热门网站 -->
					<div class="category-group" id="popular">
						<h2 class="category-title">热门网站</h2>
						<div class="sites-grid">
							{websiteData.popular.map((site) => (
								<SiteCard 
									title={site.title}
									description={site.description}
									logo={site.logo}
									url={site.url}
									tags={site.tags}
								/>
							))}
						</div>
					</div>
					
					<!-- 资源下载专区 -->
					<div class="category-group" id="download">
						<h2 class="category-title">资源下载</h2>
						<div class="sites-grid">
							{websiteData.download.map((site) => (
								<SiteCard 
									title={site.title}
									description={site.description}
									logo={site.logo}
									url={site.url}
									tags={site.tags}
								/>
							))}
						</div>
					</div>
					
					<!-- 影视专区 -->
					<div class="category-group" id="video">
						<h2 class="category-title">影视专区</h2>
						<div class="sites-grid">
							{websiteData.video.map((site) => (
								<SiteCard 
									title={site.title}
									description={site.description}
									logo={site.logo}
									url={site.url}
									tags={site.tags}
								/>
							))}
						</div>
					</div>
					
					<!-- AI工具 -->
					<div class="category-group" id="ai">
						<h2 class="category-title">AI工具</h2>
						<div class="sites-grid">
							{websiteData.ai.map((site) => (
								<SiteCard 
									title={site.title}
									description={site.description}
									logo={site.logo}
									url={site.url}
									tags={site.tags}
								/>
							))}
						</div>
					</div>
					
					<!-- 游戏下载 -->
					<div class="category-group" id="game">
						<h2 class="category-title">游戏下载</h2>
						<div class="sites-grid">
							{websiteData.game.map((site) => (
								<SiteCard 
									title={site.title}
									description={site.description}
									logo={site.logo}
									url={site.url}
									tags={site.tags}
								/>
							))}
			</div>
		</div>
					
					<!-- 学术导航 -->
					<div class="category-group" id="academic">
						<h2 class="category-title">学术导航</h2>
						<div class="sites-grid">
							{websiteData.academic.map((site) => (
								<SiteCard 
									title={site.title}
									description={site.description}
									logo={site.logo}
									url={site.url}
									tags={site.tags}
								/>
							))}
						</div>
				</div>
					
					<!-- 电子书库 -->
					<div class="category-group" id="ebook">
						<h2 class="category-title">电子书库</h2>
						<div class="sites-grid">
							{websiteData.ebook.map((site) => (
								<SiteCard 
									title={site.title}
									description={site.description}
									logo={site.logo}
									url={site.url}
									tags={site.tags}
								/>
							))}
				</div>
				</div>
				</div>
			</div>
		</section>
		</div>
</Layout>

<style>
	.main-content {
		padding-left: 30px;
	}
	
	.hero-section {
		min-height: 200px;
		background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
		color: white;
		padding: 3rem 0;
		position: relative;
		overflow: hidden;
		display: flex;
		align-items: center;
		justify-content: center;
		text-align: center;
		background-image: url('/二次元少女.png');
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
	}

	.hero-section::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: linear-gradient(135deg, rgba(50, 69, 255, 0.3), rgba(188, 82, 238, 0.3));
		z-index: 1;
	}

	.container {
		position: relative;
		z-index: 2;
		width: 100%;
		max-width: 1400px;
		margin: 0 auto;
		padding: 0 2rem;
	}

	.search-container {
		margin: 0 auto;
		max-width: 700px;
		width: 100%;
		opacity: 0;
		transform: translateY(20px);
	}

	.nav-categories {
		padding: 3rem 0;
		background-color: #f8f9fa;
	}

	.sites-container {
		margin-top: 1rem;
	}

	.category-group {
		margin-bottom: 4rem;
	}

	.category-title {
		font-size: 1.8rem;
		margin-bottom: 1.5rem;
		position: relative;
		padding-left: 1rem;
	}

	.category-title::before {
		content: '';
		position: absolute;
		left: 0;
		top: 0.4rem;
		height: 70%;
		width: 4px;
		background: linear-gradient(to bottom, var(--primary-color), var(--secondary-color));
		border-radius: 2px;
	}

	.sites-grid {
		display: grid;
		grid-template-columns: repeat(4, minmax(0, 1fr));
		gap: 2rem;
		justify-items: center;
		padding-right: 1rem;
	}

	@media (max-width: 1200px) {
		.sites-grid {
			grid-template-columns: repeat(3, minmax(0, 1fr));
		}
	}

	@media (max-width: 992px) {
		.sites-grid {
			grid-template-columns: repeat(2, 1fr);
		}
	}

	@media (max-width: 768px) {
		.main-content {
			padding-left: 0;
		}
		
		.search-container {
			padding: 0 1rem;
		}

		.sites-grid {
			grid-template-columns: repeat(2, 1fr);
			gap: 1rem;
		}
	}

	@media (max-width: 576px) {
		.sites-grid {
			grid-template-columns: 1fr;
		}
	}
</style>

<script>
	import { gsap } from 'gsap';
	import { ScrollTrigger } from 'gsap/ScrollTrigger';

	document.addEventListener('DOMContentLoaded', () => {
		gsap.registerPlugin(ScrollTrigger);
		
		// 页面加载动画
		const tl = gsap.timeline();
		
		tl.to('.search-container', {
			opacity: 1,
			y: 0,
			duration: 1,
			ease: 'power3.out'
		});
		
		// 监听侧边栏分类点击事件
		document.addEventListener('category-selected', (e) => {
			const category = e.detail.category;
			const categoryElement = document.getElementById(category);
			
			if (categoryElement) {
				// 滚动到对应分类
				const navBarHeight = 80;
				const offset = categoryElement.getBoundingClientRect().top + window.pageYOffset - navBarHeight - 20;
				
				window.scrollTo({
					top: offset,
					behavior: 'smooth'
				});
			}
		});

		// 为每个分类添加滚动触发动画
		const categories = document.querySelectorAll('.category-group');
		categories.forEach(category => {
			gsap.from(category, {
				opacity: 0,
				y: 50,
				duration: 0.8,
				scrollTrigger: {
					trigger: category,
					start: "top 80%",
					once: true
				}
			});
		});
	});
</script>
